import { Controls, Canvas, Meta, Story } from "@storybook/addon-docs";
import * as Stories from "./swirl-option-list.stories";

<Meta title="Components/SwirlOptionList" />

# SwirlOptionList

The SwirlOptionList component is used to provide a list of user-selectable
items. It should be used in combination with the
[SwirlPopover component](?path=/docs/components-swirlpopover--docs).

- **[Figma Design Specs](https://www.figma.com/file/iRHiAFsHxnzux8gQ9EjlZe/Flip-Components?node-id=448%3A6840)**
- **[Source Code](https://github.com/flip-corp/swirl/tree/main/packages/swirl-components/src/components/swirl-option-list)**

## Usage

<Canvas of={Stories.SwirlOptionList} sourceState="shown"></Canvas>

<Controls of={Stories.SwirlOptionList} />

## Theming

| Variable                      | Usage                        |
| ----------------------------- | ---------------------------- |
| `--s-surface-overlay-default` | Background color of the list |

## Accessibility

### ARIA

The component follows the
[WAI-ARIA Listbox Pattern](https://www.w3.org/WAI/ARIA/apg/patterns/listbox/).

| ARIA                   | Usage                                        |
| ---------------------- | -------------------------------------------- |
| `role="listbox"`       |                                              |
| `aria-multiselectable` | Set to `true` if multi selection is enabled. |

### Keyboard

| Key                                | Action                              |
| ---------------------------------- | ----------------------------------- |
| <kbd>SPACE</kbd>, <kbd>ENTER</kbd> | Select/unselect the focused option. |
| <kbd>UP</kbd>                      | Move focus to the previous option.  |
| <kbd>DOWN</kbd>                    | Move focus to the next option.      |
| <kbd>HOME</kbd>                    | Move focus to the first option.     |
| <kbd>END</kbd>                     | Move focus to the last option.      |
| <kbd>CTRL/CMD</kbd> + <kbd>A</kbd> | Select/unselect all options.        |

### Focus handling

- If no option is selected, the first option is focused when the option list
  receives focus.
- If at least one option is selected, the first selected option is focused when
  the option list receives focus.

### Drag & Drop

- Focus drag handle and press <kbd>SPACE</kbd> to start dragging an item.
- Use arrow keys to move dragged item up and down.
- Press <kbd>SPACE</kbd> to confirm new item position.
- Hidden alert is used to convey item position to screen readers while dragging.
